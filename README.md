# URL Shortener

A simple, full-stack URL shortener application. It features a Spring Boot backend that uses Redis for storage and a reactive React frontend built with Vite and styled with Tailwind CSS. The entire application is containerized with Docker for easy setup and deployment.

## Features

*   **URL Shortening:** Convert long URLs into a short, unique Base62 encoded string.
*   **Redirection:** Automatically redirects from the short URL to the original long URL.
*   **Fast & Scalable:** Utilizes Redis for quick data storage/retrieval and atomic ID generation.
*   **Time-To-Live (TTL):** Shortened URLs automatically expire after a configurable duration.
*   **Simple API:** A straightforward RESTful API for shortening and retrieving URLs.
*   **Modern Frontend:** A clean and responsive user interface built with React and Tailwind CSS.
*   **Containerized:** Docker Compose setup for one-command startup of all services (backend, frontend, Redis).
*   **API Documentation:** Integrated Swagger UI for easy API exploration and testing.

## Architecture

The project consists of three main services orchestrated by Docker Compose:
*   `frontend`: A React/TypeScript application that provides the user interface for URL shortening.
*   `backend`: A Spring Boot application that handles the core logic. It receives requests to shorten URLs, generates a unique ID using Redis, encodes it to Base62, and stores the mapping in Redis with a TTL. It also handles the redirection logic.
*   `redis`: An in-memory data store used for both storing the URL mappings and as a sequence generator for unique IDs.

## Tech Stack

*   **Backend**: Java 17, Spring Boot, Spring Web, Spring Data Redis, Maven
*   **Frontend**: React, TypeScript, Vite, Tailwind CSS, Axios
*   **Database/Cache**: Redis
*   **API Documentation**: Springdoc OpenAPI (Swagger)
*   **Containerization**: Docker, Docker Compose

## Getting Started

To run this project, you need to have Docker and Docker Compose installed on your machine.

1.  **Clone the repository:**
    ```sh
    git clone https://github.com/germanomp/url-shortener.git
    cd url-shortener
    ```

2.  **Run with Docker Compose:**
    Execute the following command from the root of the project to build and start the containers in detached mode:
    ```sh
    docker-compose up --build -d
    ```

3.  **Access the services:**
    *   **Frontend UI:** `http://localhost:5173`
    *   **Backend API:** `http://localhost:8080`
    *   **Swagger API Docs:** `http://localhost:8080/swagger-ui.html`

## API Endpoints

The API is self-documented using Swagger UI. You can access the interactive documentation at `http://localhost:8080/swagger-ui.html` after starting the application.

### Shorten a URL

*   **Endpoint:** `POST /api/shorten`
*   **Description:** Creates a short URL for a given long URL.
*   **Request Body:**
    ```json
    {
      "url": "https://www.google.com"
    }
    ```
*   **Success Response (`200 OK`):**
    ```json
    {
      "shortUrl": "http://localhost:8080/api/1"
    }
    ```

### Redirect to Original URL

*   **Endpoint:** `GET /api/{code}`
*   **Description:** Redirects to the original URL associated with the short code.
*   **Path Parameter:**
    *   `code`: The unique code generated by the `/shorten` endpoint (e.g., `1`).
*   **Success Response:**
    *   `302 Found`: Redirects the user's browser to the original URL.
*   **Error Responses:**
    *   `400 Bad Request`: If the code format is invalid.
    *   `404 Not Found`: If the code does not exist or has expired.

## Configuration

The application's behavior can be modified through the backend's `application-*.yml` files.

*   `app.cache.ttl`: Sets the Time-To-Live (in seconds) for a shortened URL in Redis.
    *   **Development (`application-dev.yml`):** Defaults to 15 seconds.
    *   **Production (`application-prod.yml`):** Defaults to 3600 seconds (1 hour). This is the profile used by `docker-compose`.
*   The active Spring profile determines which configuration is used. It is set to `dev` by default in `application.yaml` for local development and overridden to `prod` in `docker-compose.yml`.
